<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>DataTables: json</title>
    <link href="vendor/twbs/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css">
    <link href="vendor/datatables/datatables/media/css/dataTables.bootstrap.min.css" rel="stylesheet" type="text/css">
</head>
<body>
    <table class="table table-striped" id="tableA" width="100%"></table>
    <script src="vendor/components/jquery/jquery.min.js"></script>
    <script src="vendor/datatables/datatables/media/js/jquery.dataTables.min.js"></script>
    <script>
    $(function() {
        tableA = $('#tableA');
        table = tableA.DataTable({
            "ajax": {
                /* custom data send to server *
                "data": function() {
                    var data = $('#tableFormA :input').serialize();
                    data.draw = Date.now(); /* draw = unque request and must more then old value *
                    return data;
                },
                */
                "type": "POST",
                "url": "DataTables_json.php",
            },
            "columns": [
            {
                "orderable": false,
                "render": function(data, type, row, meta) {
                    return '<input type="checkbox" value="' + row.DISTRICT_CODE + '">';
                },
                "title": '<input class="checkAll" type="checkbox">',
                "width": "20px",
            },
            {
                "render": function(data, type, row, meta) {
                    if(row.enable) {
                        return '<span class="glyphicon glyphicon-ok"></span>';
                    } else {
                        return '<span class="glyphicon glyphicon-ok"></span>';
                    }
                },
                "title": "Enable",
                "width": "20px",
            }, {
                "data": "DISTRICT_CODE",
                "title": "District Code",
                "width": "20px",
            }, {
                "data": "DISTRICT_NAME",
                "title": "District Name",
            }, {
                "data": "PROVINCE_NAME",
                "title": "Province Name",
            }
            ],
            "order": [
                [3, "asc"],
                [4, "asc"],
            ], /* default sort */
            "serverSide": true,
        });

        $('.checkAll', tableA).click(function() {
            $('input:checkbox', tableA).not(this).prop('checked', this.checked);
        });

    });
    </script>
</body>
</html>
